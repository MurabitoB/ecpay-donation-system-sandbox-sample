"use strict";(self.webpackChunkecpay_donation_system_sandbox_sample=self.webpackChunkecpay_donation_system_sandbox_sample||[]).push([[936],{936:(x,i,e)=>{e.r(i),e.d(i,{LeaderBoardComponent:()=>d});var r=e(895),u=e(466),m=e(579),l=e(482),c=e(403),h=e(421),p=e(32),n=e(256),v=e(798);function g(s,o){if(1&s&&(n.ynx(0),n.TgZ(1,"div",2),n._uU(2),n.qZA(),n.TgZ(3,"div",2),n._uU(4),n.qZA(),n.BQk()),2&s){const t=o.$implicit;let a;n.xp6(2),n.Oqu(null!==(a=t.author)&&void 0!==a?a:"\u6c92\u6709\u4eba"),n.xp6(2),n.Oqu(t.amount)}}class d{constructor(o){this.donationService=o,this.donations=[],this.destroyed$=new m.x}get totalDonations(){const o=[];return this.donations.forEach(t=>{const a=o.findIndex(y=>y.author===t.author);-1===a?o.push({author:t.author,amount:t.amount}):o[a].amount+=t.amount}),o.sort((t,a)=>a.amount-t.amount)}ngOnInit(){this.donationService.donations$.pipe(function f(s){return(0,l.e)((o,t)=>{(0,h.Xf)(s).subscribe((0,c.x)(t,()=>t.complete(),p.Z)),!t.closed&&o.subscribe(t)})}(this.destroyed$)).subscribe(o=>{this.donations=[o,...this.donations]})}ngOnDestroy(){this.destroyed$.next(void 0),this.destroyed$.complete()}}d.\u0275fac=function(o){return new(o||d)(n.Y36(v.l))},d.\u0275cmp=n.Xpm({type:d,selectors:[["app-leader-board"]],standalone:!0,features:[n.jDz],decls:2,vars:1,consts:[[1,"grid","grid-cols-2"],[4,"ngFor","ngForOf"],[2,"color","white"]],template:function(o,t){1&o&&(n.TgZ(0,"div",0),n.YNc(1,g,5,2,"ng-container",1),n.qZA()),2&o&&(n.xp6(1),n.Q6J("ngForOf",t.totalDonations))},dependencies:[r.ez,r.sg,u.m]})}}]);